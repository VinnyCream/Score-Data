<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link rel="icon" href="Images/WebsiteFavIcon.png" type="image/png">
    <title>Score Data - H·ªá Th·ªëng Qu·∫£n l√Ω ƒêi·ªÉm s·ªë v√† T√†i Ch√≠nh ƒê·∫°i H·ªçc</title>
    <meta name="description" content="C√¥ng c·ª• t√≠nh ƒëi·ªÉm GPA, qu·∫£n l√Ω ƒëi·ªÉm s·ªë sinh vi√™n ƒë·∫°i h·ªçc t·ªët nh·∫•t.">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vinnycream.github.io/">
    <meta property="og:title" content="Score Data - H·ªá Th·ªëng Qu·∫£n l√Ω ƒêi·ªÉm s·ªë v√† T√†i Ch√≠nh ƒê·∫°i H·ªçc">
    <meta property="og:description" content="C√¥ng c·ª• t√≠nh ƒëi·ªÉm GPA, qu·∫£n l√Ω ƒëi·ªÉm s·ªë v√† t√†i ch√≠nh sinh vi√™n ƒë·∫°i h·ªçc t·ªët nh·∫•t.">
    
    <meta property="og:image" content="https://vinnycream.github.io/Images/thumbnail.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <audio id="sfx-victory" src="SFX/VictorySFX.mp3" preload="auto"></audio>
    <audio id="sfx-alarm" src="SFX/AlarmSFX.mp3" preload="auto" loop></audio>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>

    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
       (function(){
          emailjs.init("hN_BZ8JbiGPHnowD8");
       })();
    </script>
</head>
<body data-theme="light">

    <audio id="sfx-victory" src="SFX/Victory.mp3" preload="auto"></audio>
    <audio id="sfx-alarm" src="SFX/AlarmSFX.mp3" preload="auto" loop></audio>

    <div class="bg-animation">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
        <div class="grid-overlay"></div>
    </div>

    <div id="toast-container"></div>

    <input type="file" id="import-file-input" accept=".json" style="display: none;">

    <div id="auth-screen" class="main-container center-content">
        <div class="glass-card auth-card fade-in-up">
            <div class="auth-header">
                <div class="logo-area">
                    <div class="logo-icon-lg">
                        <i class="fa-solid fa-graduation-cap"></i>
                    </div>
                    <h1 class="app-name">Score Data</h1>
                    <p class="app-slogan" data-i18n="welcomeSub">"H·ªá th·ªëng qu·∫£n l√Ω ƒëi·ªÉm s·ªë cho sinh vi√™n"</p>
                </div>
            </div>
            
            <div id="login-form" class="auth-form">
                <h2 data-i18n="loginHeader">ƒêƒÉng nh·∫≠p</h2>
                
                <div class="input-wrapper">
                    <input type="text" id="login-username" placeholder=" " autocomplete="username">
                    <label data-i18n="usernameLabel">T√™n ƒëƒÉng nh·∫≠p</label>
                    <span class="input-icon"><i class="fa-regular fa-user"></i></span>
                </div>

                <div class="input-wrapper">
                    <input type="password" id="login-password" placeholder=" " autocomplete="current-password">
                    <label data-i18n="passwordLabel">M·∫≠t kh·∫©u</label>
                    <span class="toggle-password" onclick="App.togglePassword('login-password')">
                        <i class="fa-regular fa-eye"></i>
                    </span>
                </div>

                <div style="text-align: right; margin-bottom: 15px;">
                    <a href="#" onclick="UI.showForgotModal()" style="font-size: 0.85rem; color: var(--primary); text-decoration: none; font-weight: 600;">Qu√™n m·∫≠t kh·∫©u?</a>
                </div>

                <button class="btn btn-primary full-width hover-scale shimmer-effect" id="btn-login">
                    <span data-i18n="loginBtn">ƒêƒÉng nh·∫≠p</span>
                    <i class="fa-solid fa-arrow-right-to-bracket"></i>
                </button>

                <div class="divider"><span data-i18n="orText">HO·∫∂C</span></div>

                <button class="btn btn-glass full-width" id="btn-guest">
                    <span data-i18n="guestBtn">Ti·∫øp t·ª•c v·ªõi vai tr√≤ Kh√°ch</span>
                </button>

                <div class="auth-footer">
                    <span data-i18n="noAccount">Ch∆∞a c√≥ t√†i kho·∫£n?</span> 
                    <a href="#" onclick="UI.switchAuth('register')" data-i18n="registerLink">T·∫°o t√†i kho·∫£n m·ªõi</a>
                </div>
            </div>

            <div id="register-form" class="auth-form" style="display: none;">
                <h2 data-i18n="registerHeader">T·∫°o t√†i kho·∫£n</h2>
                <p class="desc-text" data-i18n="regSub"></p>

                <div class="input-wrapper">
                    <input type="text" id="reg-username" placeholder=" " autocomplete="off">
                    <label data-i18n="usernameLabel">T√™n ƒëƒÉng nh·∫≠p</label>
                    <span class="input-icon"><i class="fa-regular fa-user"></i></span>
                </div>

                <div class="input-wrapper">
                    <input type="email" id="reg-email" placeholder=" " autocomplete="off">
                    <label>Email x√°c th·ª±c</label>
                    <span class="input-icon"><i class="fa-regular fa-envelope"></i></span>
                </div>

                <div class="input-wrapper">
                    <input type="password" id="reg-password" placeholder=" ">
                    <label data-i18n="passwordLabel">M·∫≠t kh·∫©u</label>
                    <span class="toggle-password" onclick="App.togglePassword('reg-password')">
                        <i class="fa-regular fa-eye"></i>
                    </span>
                </div>

                <button class="btn btn-primary full-width hover-scale shimmer-effect" id="btn-register">
                    <span data-i18n="createAccountBtn">ƒêƒÉng K√Ω Ngay</span>
                </button>

                <div class="auth-footer">
                    <span data-i18n="haveAccount">ƒê√£ c√≥ t√†i kho·∫£n?</span> 
                    <a href="#" onclick="UI.switchAuth('login')" data-i18n="loginLink">ƒêƒÉng nh·∫≠p ngay</a>
                </div>
            </div>
        </div>
        <p class="copyright"></p>
    </div>

    <div id="app-screen" class="app-layout" style="display: none;">
        
        <aside class="sidebar">
            <div class="brand">
                <div class="logo-icon">
                    <i class="fa-solid fa-graduation-cap"></i>
                </div>
                <span class="brand-text">Score Data</span>
            </div>
            
            <nav class="nav-menu">
                <button class="nav-item active" data-target="dashboard">
                    <span class="icon"><i class="fa-solid fa-chart-pie"></i></span> 
                    <span data-i18n="navDashboard">T·ªïng quan</span>
                </button>
                <button class="nav-item" data-target="calculator">
                    <span class="icon"><i class="fa-solid fa-calculator"></i></span> 
                    <span data-i18n="navCalculator">T√≠nh ƒëi·ªÉm</span>
                </button>
                <button class="nav-item" data-target="history">
                    <span class="icon"><i class="fa-solid fa-clock-rotate-left"></i></span> 
                    <span data-i18n="navHistory">L·ªãch s·ª≠</span>
                </button>
                
                <button class="nav-item hidden-important" id="nav-admin-panel" data-target="admin-panel" style="color: var(--secondary);">
                    <span class="icon"><i class="fa-solid fa-screwdriver-wrench"></i></span> 
                    <span>Admin Panel</span>
                </button>

                <button class="nav-item" data-target="donate" style="color: var(--success);">
                    <span class="icon"><i class="fa-solid fa-circle-dollar-to-slot"></i></span>
                    <span data-i18n="navDonate">Donate (·ª¶ng h·ªô)</span>
                </button>

                <button class="nav-item" data-target="utilities" style="color: var(--text-muted);">
                    <span class="icon"><i class="fa-solid fa-toolbox"></i></span>
                    <span data-i18n="navUtilities">Ti·ªán √≠ch</span>
                </button>

                <button class="nav-item" data-target="settings">
                    <span class="icon"><i class="fa-solid fa-gear"></i></span> 
                    <span data-i18n="navSettings">C√†i ƒë·∫∑t</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="user-mini-profile">
                    <div class="avatar-box" id="mini-avatar-box">
                        <img src="images/DefaultProfilePic.jpg" id="mini-avatar-img" alt="User" class="avatar-img-el">
                        <i class="fa-solid fa-circle-user avatar-icon-el" id="mini-avatar-icon"></i>
                        <span class="status-dot"></span>
                    </div>
                    <div class="user-info">
                        <div id="mini-nickname" class="name">Guest</div>
                        <div id="mini-username" class="role">@guest</div>
                    </div>
                    <button id="btn-logout-mini" class="btn-icon-sm" title="ƒêƒÉng xu·∫•t">
                        <i class="fa-solid fa-right-from-bracket"></i>
                    </button>
                </div>
            </div>
        </aside>

        <div class="sidebar-overlay" onclick="document.querySelector('.sidebar').classList.remove('open')"></div>

        <main class="content-area">
            
            <header class="mobile-header">
                <div class="logo-area-mobile">
                    <div class="logo-icon-sm"><i class="fa-solid fa-graduation-cap"></i></div>
                    <span>Score Data</span>
                </div>
                <button id="mobile-menu-btn">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </header>

            <section id="dashboard" class="page-section active fade-in">
                 <div class="section-header">
                    <div>
                        <h2 class="page-title" data-i18n="dashboardTitle">B·∫£ng ƒëi·ªÅu khi·ªÉn</h2>
                        <span id="dashboard-source-label" class="source-badge">üìÅ Ngu·ªìn: T·∫•t c·∫£</span>
                    </div>
                    <div class="date-display" id="current-date">...</div>
                </div>
                
                <div class="dashboard-grid">
                    <div class="main-stats glass-card glow-border">
                        <div class="stat-content full-width-flex">
                            <h3 data-i18n="totalScoreTitle">GPA T√≠ch L≈©y</h3>
                            
                            <div class="gpa-dual-display">
                                <div class="gpa-item">
                                    <span class="gpa-label">Thang 10</span>
                                    <div class="big-score counter" id="dash-gpa-10">0.00</div>
                                </div>
                                <div class="vertical-divider"></div>
                                <div class="gpa-item">
                                    <span class="gpa-label">Thang 4</span>
                                    <div class="big-score counter text-primary" id="dash-gpa-4">0.00</div>
                                </div>
                            </div>
                            
                            <div class="rank-badge" id="dash-ranking">Ch∆∞a x·∫øp lo·∫°i</div>
                        </div>
                    </div>

                    <div class="sub-stats-grid">
                        <div class="stat-card glass-card">
                            <div class="icon-box green">
                                <i class="fa-regular fa-circle-check"></i>
                            </div>
                            <div class="info">
                                <h4 data-i18n="statPass">Qua m√¥n</h4>
                                <div class="number text-green" id="dash-pass-count">0</div>
                            </div>
                        </div>
                        <div class="stat-card glass-card">
                            <div class="icon-box red">
                                <i class="fa-regular fa-circle-xmark"></i>
                            </div>
                            <div class="info">
                                <h4 data-i18n="statFail">R·ªõt m√¥n</h4>
                                <div class="number text-red" id="dash-fail-count">0</div>
                            </div>
                        </div>
                        <div class="stat-card glass-card">
                            <div class="icon-box blue">
                                <i class="fa-solid fa-layer-group"></i>
                            </div>
                            <div class="info">
                                <h4 data-i18n="statCredits">T√≠n Ch·ªâ</h4>
                                <div class="number text-blue" id="dash-total-credits">0</div>
                            </div>
                        </div>
                    </div>

                    <div class="chart-container glass-card large-span">
                        <div class="chart-header">
                            <h4 data-i18n="chartHeaderGeneral">Th·ªëng k√™ & Xu h∆∞·ªõng</h4>
                            <select id="chart-filter-year" class="chart-select">
                                <option value="all">T·∫•t c·∫£ th·ªùi gian</option>
                            </select>
                        </div>

                        <div class="dual-chart-layout">
                            <div class="chart-col left-chart">
                                <h5 class="chart-subtitle" data-i18n="chartTrendTitle">Xu h∆∞·ªõng GPA (Theo k·ª≥)</h5>
                                <div class="chart-box">
                                    <canvas id="gpaTrendChart"></canvas>
                                </div>
                            </div>

                            <div class="chart-divider"></div>

                            <div class="chart-col right-chart">
                                <h5 class="chart-subtitle" data-i18n="chartDistTitle">Ph√¢n b·ªë ƒëi·ªÉm (A - F)</h5>
                                <div class="chart-box">
                                    <canvas id="scoreDistributionChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="calculator" class="page-section fade-in">
                <h2 class="page-title" data-i18n="navCalculator">C√¥ng c·ª• t√≠nh ƒëi·ªÉm</h2>
                <div class="calc-wrapper">
                    <div class="glass-card form-container">
                        <h3 data-i18n="calcSubjectTitle">Nh·∫≠p th√¥ng tin m√¥n h·ªçc</h3>
                        
                        <div class="form-row three-cols">
                            <div class="input-wrapper flex-2">
                                <input type="text" id="subject-name" placeholder=" " autocomplete="off">
                                <label data-i18n="subjectNameLabel">T√™n m√¥n h·ªçc (V√≠ d·ª•: To√°n Cao C·∫•p)</label>
                            </div>
                            
                            <div class="input-wrapper flex-1">
                                <input type="number" id="subject-credits" placeholder=" " min="1" max="10" value="3" oninput="if(this.value>10)this.value=10;if(this.value<0)this.value=0;">
                                <label data-i18n="creditsLabel">S·ªë t√≠n ch·ªâ</label>
                            </div>

                            <div class="input-wrapper flex-1">
                                <select id="weight-select">
                                    <option value="5:5">50% - 50%</option>
                                    <option value="4:6">40% - 60%</option>
                                    <option value="3:7">30% - 70%</option>
                                    <option value="2:3:5">20% - 30% - 50%</option>
                                    <option value="100">100% (ƒê·ªì √°n)</option>
                                </select>
                                <label data-i18n="weightLabel">T·ª∑ l·ªá ƒëi·ªÉm</label>
                            </div>
                        </div>

                        <div id="dynamic-inputs" class="inputs-grid">
                            </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary full-width hover-scale" id="btn-calc-now">
                                <span class="icon"><i class="fa-solid fa-calculator"></i></span> <span data-i18n="calcBtn">T√≠nh k·∫øt qu·∫£ ngay</span>
                            </button>
                            <button class="btn btn-outline" id="btn-reset-calc" title="L√†m m·ªõi">
                                <i class="fa-solid fa-rotate-right"></i>
                            </button>
                        </div>
                    </div>

                    <div id="calc-result" class="result-wrapper hidden">
                        <div class="result-overlay-bg" onclick="UI.hideResult()"></div> 
                        <div class="result-modal-inner glass-card">
                            <button class="btn-close-floating" onclick="UI.hideResult()"><i class="fa-solid fa-xmark"></i></button>
                            
                            <div class="result-header">
                                <span data-i18n="resultTitle">K·∫æT QU·∫¢ M√îN H·ªåC</span>
                            </div>
                            
                            <div class="result-body">
                                <div class="score-circle-wrapper">
                                    <svg class="progress-ring" width="120" height="120">
                                        <circle class="progress-ring__circle-bg" stroke="#eee" stroke-width="8" fill="transparent" r="52" cx="60" cy="60"/>
                                        <circle class="progress-ring__circle" stroke="var(--primary)" stroke-width="8" fill="transparent" r="52" cx="60" cy="60"/>
                                    </svg>
                                    <span id="res-score-number">0.0</span>
                                </div>
                                
                                <div class="score-details">
                                    <h3 id="res-grade-text" class="text-grade">ƒêi·ªÉm A</h3>
                                    <div class="score-breakdown">
                                        <div class="score-item">
                                            <span class="label">Thang 10</span>
                                            <span class="value" id="res-score-10">0.0</span>
                                        </div>
                                        <div class="vertical-sep"></div>
                                        <div class="score-item">
                                            <span class="label">Thang 4</span>
                                            <span class="value" id="res-score-4">0.0</span>
                                        </div>
                                    </div>
                                    <p id="res-status-text" class="status-badge pass">QUA M√îN</p>
                                </div>
                            </div>
                            
                            <div class="result-footer">
                                <p data-i18n="autoSaveNote" id="autosave-note"><i class="fa-solid fa-check"></i> K·∫øt qu·∫£ ƒë√£ ƒë∆∞·ª£c t·ª± ƒë·ªông l∆∞u.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="history" class="page-section fade-in">
                <div class="glass-card full-height relative-container">
                    <div class="history-header">
                        <h2 data-i18n="historyTitle">L·ªãch s·ª≠ t√≠nh to√°n</h2>
                        <div class="search-box">
                            <span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
                            <input type="text" id="history-search" placeholder="T√¨m ki·∫øm m√¥n h·ªçc..." data-i18n-placeholder="searchPlaceholder">
                        </div>
                    </div>
                    
                    <div id="folder-container" class="folder-list-row enable-scroll"></div>

                    <div class="controls-row">
                        <div class="filter-tabs">
                            <button class="filter-chip active" data-filter="all" data-i18n="filterAll">T·∫•t c·∫£</button>
                            <button class="filter-chip" data-filter="pass" data-i18n="filterPass">ƒê·∫≠u</button>
                            <button class="filter-chip" data-filter="fail" data-i18n="filterFail">R·ªõt</button>
                        </div>
                        
                        <div class="fancy-date-wrapper">
                            <div class="date-icon"><i class="fa-regular fa-calendar"></i></div>
                            <input type="date" id="history-date-filter" class="fancy-date-input">
                            <button class="btn-clear-date" id="btn-clear-date" title="X√≥a l·ªçc ng√†y"><i class="fa-solid fa-xmark"></i></button>
                        </div>
                    </div>

                    <div id="selection-action-bar" class="selection-bar hidden">
                        <span class="selection-count">ƒê√£ ch·ªçn: <b id="sel-count">0</b></span>
                        <div class="selection-buttons">
                            <button class="btn btn-sm btn-action-high-contrast" id="btn-create-folder"><i class="fa-regular fa-folder"></i> T·∫°o Folder</button>
                            <button class="btn btn-sm btn-action-high-contrast" id="btn-export-multi-folder" title="Export Selected"><i class="fa-solid fa-share-from-square"></i> Export</button>
                            <button class="btn btn-sm btn-danger-high-contrast" id="btn-delete-multi"><i class="fa-solid fa-trash"></i> X√≥a</button>
                            <button class="btn btn-sm btn-outline-high-contrast" id="btn-cancel-sel">H·ªßy</button>
                        </div>
                    </div>

                    <div class="table-header-row">
                        <div class="col-check">
                            <input type="checkbox" id="check-all-history" class="custom-checkbox">
                        </div>
                        <div class="col-sub">M√¥n h·ªçc</div>
                        <div class="col-type">T·ª∑ l·ªá</div>
                        <div class="col-cred center-text">T√≠n ch·ªâ</div>
                        <div class="col-score center-text">ƒêi·ªÉm s·ªë</div>
                        <div class="col-grade center-text">ƒêi·ªÉm ch·ªØ</div>
                        <div class="col-act">X√≥a</div>
                    </div>

                    <div id="history-list" class="history-list-container scroll-custom">
                        <div class="empty-state">
                            <img src="https://cdn-icons-png.flaticon.com/512/7486/7486747.png" alt="Empty" width="60">
                            <p data-i18n="emptyHistory">Ch∆∞a c√≥ d·ªØ li·ªáu n√†o</p>
                        </div>
                    </div>

                    <div id="history-pagination" class="pagination-controls hidden">
                        </div>
                </div>
            </section>
            
            <section id="utilities" class="page-section fade-in">
                <h2 class="page-title" data-i18n="navUtilities">Ti·ªán √≠ch sinh vi√™n</h2>
                
                <div class="utilities-grid-container">
                    <div class="glass-card utility-card" onclick="Utilities.navigateTo('spinwheel')">
                        <div class="utility-icon-box">
                            <img src="Images/SpinTheWheelLogo.png" alt="Spin Wheel" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2619/2619214.png'">
                        </div>
                        <div class="utility-info">
                            <h3>V√≤ng quay may m·∫Øn (Spin the Wheel)</h3>
                            <p>M·ªôt tr√≤ ch∆°i ƒë∆°n gi·∫£n n∆°i b·∫°n quay m·ªôt b√°nh xe ƒë∆∞·ª£c chia th√†nh c√°c ph·∫ßn th∆∞·ªüng/k·∫øt qu·∫£ kh√°c nhau. K·∫øt qu·∫£ c·ªßa b·∫°n l√† ph·∫ßn m√† b√°nh xe d·ª´ng l·∫°i.</p>
                            <button class="btn btn-success btn-sm mt-2">V√†o ngay <i class="fa-solid fa-arrow-right"></i></button>
                        </div>
                    </div>

                    <div class="glass-card utility-card" onclick="Utilities.navigateTo('countdown')">
                        <div class="utility-icon-box">
                            <img src="Images/stopwatchLogo.png" alt="Countdown" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2921/2921226.png'">
                        </div>
                        <div class="utility-info">
                            <h3>ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c (Countdown Timer)</h3>
                            <p>M·ªôt c√¥ng c·ª• hi·ªÉn th·ªã th·ªùi gian c√≤n l·∫°i cho ƒë·∫øn khi m·ªôt s·ª± ki·ªán c·ª• th·ªÉ b·∫Øt ƒë·∫ßu ho·∫∑c k·∫øt th√∫c. C√≥ chu√¥ng b√°o khi h·∫øt gi·ªù.</p>
                            <button class="btn btn-success btn-sm mt-2">V√†o ngay <i class="fa-solid fa-arrow-right"></i></button>
                        </div>
                    </div>

                    <div class="glass-card utility-card" onclick="Utilities.navigateTo('finance')">
                        <div class="utility-icon-box">
                            <img src="Images/financialLogo.png" alt="Financial Management" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2344/2344132.png'">
                        </div>
                        <div class="utility-info">
                            <h3 data-i18n="financeTitle">Qu·∫£n l√Ω T√†i ch√≠nh (Financial Management)</h3>
                            <p data-i18n="financeDesc">Theo d√µi, l·∫≠p ng√¢n s√°ch, v√† ki·ªÉm so√°t ti·ªÅn b·∫°c (h·ªçc ph√≠, chi ti√™u...). S·ªëng tho·∫£i m√°i, tr√°nh n·ª£ n·∫ßn.</p>
                            <button class="btn btn-success btn-sm mt-2">V√†o ngay <i class="fa-solid fa-arrow-right"></i></button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="utility-spinwheel" class="page-section fade-in">
                 <div class="section-header">
                    <button class="btn btn-outline btn-sm" onclick="Utilities.backToHub()">
                        <i class="fa-solid fa-chevron-left"></i> Quay l·∫°i Ti·ªán √≠ch
                    </button>
                    <h2 class="page-title">V√≤ng quay may m·∫Øn</h2>
                </div>

                <div class="spin-layout">
                    <div class="wheel-container glass-card">
                        <div class="wheel-wrapper">
                            <div class="wheel-pointer"></div>
                            <canvas id="wheel-canvas" width="500" height="500"></canvas>
                        </div>
                        <div class="wheel-controls">
                            <button id="btn-spin" class="btn btn-primary btn-lg full-width shimmer-effect">
                                <i class="fa-solid fa-rotate"></i> QUAY NGAY (SPIN)
                            </button>
                        </div>
                    </div>

                    <div class="wheel-settings glass-card">
                        <div class="tabs-header">
                            <button class="tab-btn active" data-tab="entries">Danh s√°ch (Entries)</button>
                            <button class="tab-btn" data-tab="history">L·ªãch s·ª≠</button>
                            <button class="tab-btn" data-tab="settings"><i class="fa-solid fa-gear"></i></button>
                        </div>

                        <div id="tab-entries" class="tab-content active">
                            <p class="desc-text">Nh·∫≠p m·ªói d√≤ng m·ªôt k·∫øt qu·∫£:</p>
                            <div class="input-wrapper" style="height: 100%;">
                                <textarea id="wheel-input-text" placeholder="Nh·∫≠p t√™n, ph·∫ßn th∆∞·ªüng, h√¨nh ph·∫°t... (Enter ƒë·ªÉ xu·ªëng d√≤ng)"></textarea>
                            </div>
                            <div class="wheel-actions-row">
                                <button class="btn btn-sm btn-outline" id="btn-shuffle-entries" title="Tr·ªôn"><i class="fa-solid fa-shuffle"></i> Shuffle</button>
                                <button class="btn btn-sm btn-outline" id="btn-sort-entries" title="S·∫Øp x·∫øp A-Z"><i class="fa-solid fa-arrow-down-a-z"></i> Sort</button>
                                <button class="btn btn-sm btn-danger" id="btn-clear-entries" title="X√≥a h·∫øt"><i class="fa-solid fa-trash"></i></button>
                            </div>
                            <div class="entry-counter">T·ªïng s·ªë: <span id="entry-count">0</span></div>
                        </div>

                        <div id="tab-history" class="tab-content">
                            <div class="flex-between mb-2">
                                <h4>K·∫øt qu·∫£ g·∫ßn ƒë√¢y</h4>
                                <button class="btn-icon-sm" id="btn-clear-history" title="X√≥a l·ªãch s·ª≠"><i class="fa-solid fa-trash-can"></i></button>
                            </div>
                            <div id="wheel-history-list" class="scroll-custom" style="max-height: 300px; overflow-y: auto;">
                                <div class="empty-state-sm">Ch∆∞a c√≥ l∆∞·ª£t quay n√†o</div>
                            </div>
                        </div>

                        <div id="tab-settings" class="tab-content">
                            <h4>T√πy ch·ªânh</h4>
                            <div class="setting-row">
                                <span class="setting-title">Th·ªùi gian quay (gi√¢y)</span>
                                <input type="number" id="wheel-duration" value="5" min="1" max="10" class="mini-input">
                            </div>
                            <div class="setting-row">
                                <span class="setting-title">M√†u s·∫Øc (C√°ch nhau d·∫•u ph·∫©y)</span>
                                <input type="text" id="wheel-colors" value="#FF6384,#36A2EB,#FFCE56,#4BC0C0,#9966FF,#FF9F40" class="mini-input">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="utility-countdown" class="page-section fade-in">
                 <div class="section-header">
                    <button class="btn btn-outline btn-sm" onclick="Utilities.backToHub()">
                        <i class="fa-solid fa-chevron-left"></i> Quay l·∫°i Ti·ªán √≠ch
                    </button>
                    <h2 class="page-title">ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c</h2>
                </div>

                <div class="countdown-container center-content">
                    <div class="glass-card countdown-card">
                        <div class="timer-display-wrapper">
                            <svg class="timer-ring" width="300" height="300">
                                <circle class="timer-ring-bg" stroke="#eee" stroke-width="10" fill="transparent" r="135" cx="150" cy="150"/>
                                <circle class="timer-ring-progress" id="timer-progress-bar" stroke="var(--primary)" stroke-width="10" fill="transparent" r="135" cx="150" cy="150"/>
                            </svg>
                            <div class="timer-text-overlay">
                                <div id="timer-display" class="timer-numbers">00:00:00</div>
                                <div class="timer-labels">
                                    <span>Gi·ªù</span><span>Ph√∫t</span><span>Gi√¢y</span>
                                </div>
                            </div>
                        </div>

                        <div id="countdown-inputs" class="countdown-inputs">
                            <div class="time-input-group">
                                <input type="number" id="cd-days" placeholder="00" min="0" max="99">
                                <label>Ng√†y</label>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-input-group">
                                <input type="number" id="cd-hours" placeholder="00" min="0" max="23">
                                <label>Gi·ªù</label>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-input-group">
                                <input type="number" id="cd-minutes" placeholder="00" min="0" max="59">
                                <label>Ph√∫t</label>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-input-group">
                                <input type="number" id="cd-seconds" placeholder="00" min="0" max="59">
                                <label>Gi√¢y</label>
                            </div>
                        </div>

                        <div class="countdown-controls">
                            <button id="btn-cd-start" class="btn btn-primary btn-lg"><i class="fa-solid fa-play"></i> B·∫Øt ƒë·∫ßu</button>
                            <button id="btn-cd-pause" class="btn btn-warning btn-lg hidden"><i class="fa-solid fa-pause"></i> T·∫°m d·ª´ng</button>
                            <button id="btn-cd-reset" class="btn btn-outline btn-lg"><i class="fa-solid fa-rotate-right"></i> X√≥a</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="utility-finance" class="page-section fade-in">
                <div class="section-header">
                    <div>
                         <button class="btn btn-outline btn-sm mb-2" onclick="Utilities.backToHub()">
                            <i class="fa-solid fa-chevron-left"></i> Quay l·∫°i Ti·ªán √≠ch
                        </button>
                        <h2 class="page-title">Qu·∫£n l√Ω T√†i ch√≠nh</h2>
                    </div>
                    
                    <div class="finance-header-actions">
                         <input type="file" id="fin-import-input" accept=".json" style="display: none;" onchange="Finance.handleImport(this)">

                         <button class="btn btn-outline btn-sm" onclick="Finance.triggerImport()" title="Nh·∫≠p d·ªØ li·ªáu t·ª´ file JSON">
                            <i class="fa-solid fa-file-import"></i> Import
                         </button>

                         <button class="btn btn-glass btn-sm" onclick="Finance.openSettings()" title="C√†i ƒë·∫∑t">
                            <i class="fa-solid fa-gear"></i>
                        </button>
                        
                        <div class="export-group">
                             <button class="btn btn-outline btn-sm" onclick="Finance.exportData('json')"><i class="fa-solid fa-file-code"></i> JSON</button>
                             <button class="btn btn-outline btn-sm" onclick="Finance.exportData('excel')"><i class="fa-solid fa-file-excel"></i> Excel</button>
                        </div>
                    </div>
                </div>

                <div class="finance-summary-bar glass-card">
                     <div class="fin-stat-item">
                         <span class="fin-label">Thu Nh·∫≠p</span>
                         <span class="fin-value text-success" id="fin-total-income">0ƒë</span>
                     </div>
                     <div class="fin-vertical-div"></div>
                     <div class="fin-stat-item">
                         <span class="fin-label">Chi Ti√™u</span>
                         <span class="fin-value text-danger" id="fin-total-expense">0ƒë</span>
                     </div>
                     <div class="fin-vertical-div"></div>
                     <div class="fin-stat-item">
                         <span class="fin-label">T·ªïng D∆∞</span>
                         <span class="fin-value text-primary" id="fin-balance">0ƒë</span>
                     </div>
                </div>

                <div class="finance-controls-row">
                    <div class="calendar-nav">
                        <button class="btn-icon-circle" onclick="Finance.changeMonth(-1)"><i class="fa-solid fa-chevron-left"></i></button>
                        <h3 id="finance-calendar-title">Th√°ng 12/2025</h3>
                        <button class="btn-icon-circle" onclick="Finance.changeMonth(1)"><i class="fa-solid fa-chevron-right"></i></button>
                    </div>
                    
                    <div class="report-buttons">
                        <button class="btn btn-sm btn-glass" onclick="Finance.showReport('annual')"><i class="fa-solid fa-chart-column"></i> B√°o c√°o NƒÉm</button>
                        <button class="btn btn-sm btn-glass" onclick="Finance.showReport('category')"><i class="fa-solid fa-chart-pie"></i> B√°o c√°o Danh m·ª•c</button>
                        <button class="btn btn-sm btn-glass" onclick="Finance.showReport('alltime')"><i class="fa-solid fa-chart-line"></i> To√†n k·ª≥</button>
                    </div>
                </div>

                <div class="finance-calendar-container glass-card">
                    <div class="calendar-days-header">
                        <div>T2</div><div>T3</div><div>T4</div><div>T5</div><div>T6</div><div>T7</div><div class="text-danger">CN</div>
                    </div>
                    <div id="finance-calendar-grid" class="calendar-grid">
                        </div>
                </div>

                <div class="finance-details-section">
                    <h3>Chi ti·∫øt giao d·ªãch th√°ng n√†y</h3>
                    <div id="finance-transaction-list" class="transaction-list-container">
                        <div class="empty-state">Ch∆∞a c√≥ giao d·ªãch n√†o trong th√°ng n√†y.</div>
                    </div>
                </div>
            </section>

            <section id="admin-panel" class="page-section fade-in">
                 <div class="section-header">
                    <div>
                        <h2 class="page-title text-admin">Admin Panel</h2>
                        <span class="source-badge" style="background: var(--secondary); color: white;">QU·∫¢N TR·ªä VI√äN</span>
                    </div>
                    <button class="btn btn-primary" onclick="AdminPanel.openCreateModal()">
                        <i class="fa-solid fa-user-plus"></i> T·∫°o t√†i kho·∫£n m·ªõi
                    </button>
                </div>

                <div class="glass-card full-height">
                    <div class="history-header">
                        <h3>Danh s√°ch t√†i kho·∫£n h·ªá th·ªëng</h3>
                        
                        <div class="search-box">
                            <span class="search-icon"><i class="fa-solid fa-magnifying-glass"></i></span>
                            <input type="text" id="admin-search-user" placeholder="T√¨m ki·∫øm Username/ID..." onkeyup="AdminPanel.searchUsers(this.value)">
                        </div>

                        <button class="btn btn-sm btn-outline" onclick="AdminPanel.loadUsers()">
                            <i class="fa-solid fa-rotate"></i> L√†m m·ªõi
                        </button>
                    </div>

                    <div class="table-header-row admin-table-header">
                        <div style="flex: 1">Ng∆∞·ªùi d√πng</div>
                        <div style="width: 150px">Password</div>
                        <div style="width: 120px" class="center-text">Tr·∫°ng th√°i</div>
                        <div style="width: 100px" class="center-text">H√†nh ƒë·ªông</div>
                    </div>

                    <div id="admin-user-list" class="history-list-container scroll-custom">
                        <div class="empty-state">Loading users...</div>
                    </div>

                    <div id="admin-pagination" class="pagination-controls hidden">
                        </div>
                </div>
            </section>

            <section id="donate" class="page-section fade-in">
                 <h2 class="page-title" data-i18n="navDonate">·ª¶ng h·ªô (Donate)</h2>
                
                <div class="glass-card donate-container">
                    <div class="donate-left-col">
                        <div class="qr-frame">
                            <img src="Images/agribank_qr.png" id="donate-qr-img" alt="M√£ QR" class="qr-image">
                        </div>
                        
                        <div class="donate-switcher">
                            <button class="btn-switch active" id="btn-switch-agri">
                                <img src="Images/agribank_logo.png" alt="Agribank" class="btn-logo-icon">
                                <span>Agribank</span>
                            </button>
                            <button class="btn-switch" id="btn-switch-momo">
                                <img src="Images/momo_logo.png" alt="Momo" class="btn-logo-icon">
                                <span>Momo</span>
                            </button>
                        </div>
                    </div>

                    <div class="donate-right-col">
                        <div class="bank-header-display">
                            <img src="Images/agribank_logo.png" id="donate-provider-logo" alt="Logo" class="provider-logo-lg">
                            <h3 id="donate-provider-name" class="provider-name-lg">Agribank</h3>
                        </div>

                        <div class="account-details-box">
                            <div class="detail-row">
                                <label>Ch·ªß t√†i kho·∫£n</label>
                                <div class="info-text highlight-text">NGUYEN HOANG VINH</div>
                            </div>
                            <div class="detail-row">
                                <label>S·ªë t√†i kho·∫£n / S·ªë v√≠</label>
                                <div class="info-text highlight-number" id="donate-account-num">8888917110015</div>
                            </div>
                        </div>

                        <div class="donate-note-box">
                            <i class="fa-solid fa-quote-left quote-icon"></i>
                            <p class="note-text">
                                N·∫øu b·∫°n c√≥ nhu c·∫ßu ·ªßng h·ªô Project website c√° nh√¢n n√†y ƒë·ªÉ m√¨nh c√≥ ƒë·ªông l·ª±c c·∫£i ti·∫øn nhi·ªÅu t√≠nh nƒÉng v√† ch·ª©c nƒÉng h∆°n th√¨ m√¨nh s·∫Ω r·∫•t vui bi·∫øt bao, C·∫£m ∆°n b·∫°n ƒë√£ s·ª≠ d·ª•ng project.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="settings" class="page-section fade-in">
                 <h2 class="page-title" data-i18n="navSettings">C√†i ƒë·∫∑t t√†i kho·∫£n</h2>
                <div class="settings-grid">
                    
                    <div class="glass-card settings-card">
                        <h3 data-i18n="personalInfo">Th√¥ng tin c√° nh√¢n</h3>
                        <div class="profile-edit-area">
                            <div class="avatar-upload-wrapper" id="settings-avatar-wrapper">
                                <img src="images/DefaultProfilePic.jpg" id="settings-avatar" alt="Avatar" class="avatar-img-el">
                                <i class="fa-solid fa-circle-user avatar-icon-el" id="settings-avatar-icon"></i>
                                
                                <label for="avatar-input" class="edit-btn" id="btn-edit-avatar" title="ƒê·ªïi ·∫£nh"><i class="fa-solid fa-pen"></i></label>
                                <input type="file" id="avatar-input" accept="image/png, image/jpeg, image/gif, image/webp" hidden>
                            </div>
                            <div class="profile-inputs">
                                
                                <div class="input-wrapper tight" id="group-change-username">
                                    <input type="text" id="set-username" readonly>
                                    <label data-i18n="accountName">T√™n ƒëƒÉng nh·∫≠p</label>
                                    <button class="btn-text-action" id="btn-change-username" data-i18n="changeBtn">Thay ƒë·ªïi</button>
                                </div>
                                <small class="hint-text" id="cooldown-msg">ƒê·ªïi l·∫°i sau: <span id="cooldown-timer">00:00</span></small>
                                
                                <div class="input-wrapper tight mt-2" id="group-change-nickname">
                                    <input type="text" id="set-nickname">
                                    <label data-i18n="nickname">Bi·ªát danh (Hi·ªÉn th·ªã)</label>
                                    <button class="btn-text-action" id="btn-save-nick" data-i18n="saveBtn">L∆∞u</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card settings-card">
                        <h3 data-i18n="appSettings">T√πy ch·ªânh ·ª©ng d·ª•ng</h3>
                        
                        <div class="setting-row">
                            <div class="label-box">
                                <div class="icon-setting"><i class="fa-solid fa-moon"></i></div>
                                <div>
                                    <span class="setting-title" data-i18n="darkMode">Ch·∫ø ƒë·ªô T·ªëi (Dark Mode)</span>
                                    <p class="desc">Giao di·ªán t·ªëi gi√∫p b·∫£o v·ªá m·∫Øt ban ƒë√™m</p>
                                </div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="toggle-theme">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="setting-row" id="setting-row-autosave">
                            <div class="label-box">
                                <div class="icon-setting"><i class="fa-solid fa-floppy-disk"></i></div>
                                <div>
                                    <span class="setting-title" data-i18n="autoSave">T·ª± ƒë·ªông l∆∞u ƒëi·ªÉm</span>
                                    <p class="desc">L∆∞u k·∫øt qu·∫£ ngay khi b·∫•m t√≠nh</p>
                                </div>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="toggle-autosave">
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="setting-row stacked">
                            <div class="label-box">
                                <div class="icon-setting"><i class="fa-solid fa-building-columns"></i></div>
                                <div>
                                    <span class="setting-title" data-i18n="gradingScaleTitle">Quy ch·∫ø quy ƒë·ªïi ƒëi·ªÉm (Tr∆∞·ªùng)</span>
                                    <p class="desc" data-i18n="gradingScaleDesc">Ch·ªçn tr∆∞·ªùng c·ªßa b·∫°n ƒë·ªÉ t√≠nh ƒëi·ªÉm GPA v√† x·∫øp lo·∫°i ch√≠nh x√°c.</p>
                                </div>
                            </div>
                            <select id="grading-scale-select" class="setting-select-box">
                                <option value="HUFLIT">Tr∆∞·ªùng ƒê·∫°i h·ªçc Ngo·∫°i ng·ªØ - Tin H·ªçc (HUFLIT)</option>
                                <option value="HUIT">Tr∆∞·ªùng ƒê·∫°i h·ªçc C√¥ng th∆∞∆°ng (HUIT)</option>
                            </select>
                        </div>

                        <div class="setting-row">
                            <div class="label-box">
                                <div class="icon-setting"><i class="fa-solid fa-globe"></i></div>
                                <div>
                                    <span class="setting-title" data-i18n="language">Ng√¥n ng·ªØ / Language</span>
                                </div>
                            </div>
                            <div class="lang-selector">
                                <button class="lang-btn active" data-lang="vi">üáªüá≥ VN</button>
                                <button class="lang-btn" data-lang="en">üá∫üá∏ EN</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="glass-card settings-card">
                        <h3 data-i18n="backupTitle">Sao l∆∞u d·ªØ li·ªáu</h3>
                        <p class="desc-text" style="margin-bottom: 15px;" data-i18n="backupDesc">Xu·∫•t d·ªØ li·ªáu ƒë·ªÉ chuy·ªÉn sang thi·∫øt b·ªã m·ªõi ho·∫∑c nh·∫≠p d·ªØ li·ªáu ƒë√£ l∆∞u.</p>
                        
                        <div class="backup-actions" style="display: flex; gap: 15px;">
                            <button class="btn btn-outline full-width" id="btn-export-data">
                                <i class="fa-solid fa-file-export"></i> <span data-i18n="btnExport">Xu·∫•t (Export)</span>
                            </button>
                            <button class="btn btn-outline full-width" id="btn-import-data">
                                <i class="fa-solid fa-file-import"></i> <span data-i18n="btnImport">Nh·∫≠p (Import)</span>
                            </button>
                        </div>
                    </div>

                    <div class="glass-card settings-card" id="settings-security-card">
                        <h3 data-i18n="changePass">B·∫£o m·∫≠t</h3>
                        
                        <div id="group-update-email">
                            <p class="desc-text" style="margin-bottom: 10px;">C·∫≠p nh·∫≠t email ƒë·ªÉ s·ª≠ d·ª•ng t√≠nh nƒÉng qu√™n m·∫≠t kh·∫©u.</p>
                            <div class="input-wrapper">
                                <input type="email" id="set-email" placeholder=" ">
                                <label>Email x√°c th·ª±c</label>
                            </div>
                            <button class="btn btn-primary btn-sm full-width" id="btn-update-email" style="margin-bottom: 20px;">C·∫≠p nh·∫≠t Email</button>
                            <div class="divider" style="margin: 15px 0;"><span>M·∫≠t kh·∫©u</span></div>
                        </div>

                        <div class="input-wrapper">
                            <input type="password" id="old-pass" placeholder=" ">
                            <label data-i18n="oldPass">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                        </div>
                        <div class="input-wrapper">
                            <input type="password" id="new-pass" placeholder=" ">
                            <label data-i18n="newPass">M·∫≠t kh·∫©u m·ªõi</label>
                        </div>
                        <button class="btn btn-outline btn-sm full-width" id="btn-change-pass" data-i18n="saveChangeBtn">ƒê·ªïi m·∫≠t kh·∫©u</button>
                    </div>

                    <div class="glass-card danger-zone">
                        <h3 data-i18n="accountMgmt">V√πng nguy hi·ªÉm</h3>
                        <p class="warning-text">C√°c h√†nh ƒë·ªông d∆∞·ªõi ƒë√¢y kh√¥ng th·ªÉ ho√†n t√°c.</p>
                        <div class="danger-actions">
                            <button class="btn btn-outline" onclick="Auth.logout()" data-i18n="logoutBtn">ƒêƒÉng xu·∫•t</button>
                            <button class="btn btn-danger" id="btn-delete-account" onclick="Auth.deleteAccount()" data-i18n="deleteAccBtn">X√≥a vƒ©nh vi·ªÖn t√†i kho·∫£n</button>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <div id="crop-modal" class="modal-overlay hidden">
         <div class="glass-card modal-content">
            <h3>Ch·ªânh s·ª≠a ·∫£nh ƒë·∫°i di·ªán</h3>
            <div class="crop-container">
                <img id="crop-image" src="" alt="Image to crop">
            </div>
            <div class="modal-actions">
                <button class="btn btn-outline" onclick="App.closeCropModal()">H·ªßy</button>
                <button class="btn btn-primary" onclick="App.saveCrop()">L∆∞u Thay ƒê·ªïi</button>
            </div>
        </div>
    </div>

    <div id="admin-create-modal" class="modal-overlay hidden">
         <div class="glass-card modal-content">
            <h3>T·∫°o t√†i kho·∫£n m·ªõi (Admin)</h3>
            <div class="input-wrapper">
                <input type="text" id="admin-new-username" placeholder=" ">
                <label>Username</label>
            </div>
            <div class="input-wrapper">
                <input type="text" id="admin-new-password" placeholder=" ">
                <label>Password</label>
            </div>
            <div class="modal-actions">
                <button class="btn btn-outline" onclick="document.getElementById('admin-create-modal').classList.add('hidden')">H·ªßy</button>
                <button class="btn btn-primary" onclick="AdminPanel.createUser()">T·∫°o ngay</button>
            </div>
        </div>
    </div>

    <div id="forgot-modal" class="modal-overlay hidden">
         <div class="glass-card modal-content">
            <h3>Kh√¥i ph·ª•c m·∫≠t kh·∫©u</h3>
            
            <div id="forgot-step-1">
                <p class="desc-text">Nh·∫≠p email ƒë√£ ƒëƒÉng k√Ω ƒë·ªÉ nh·∫≠n m√£ OTP.</p>
                <div class="input-wrapper">
                    <input type="email" id="forgot-email" placeholder=" ">
                    <label>Email c·ªßa b·∫°n</label>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-outline" onclick="UI.closeForgotModal()">H·ªßy</button>
                    <button class="btn btn-primary" onclick="Auth.sendOTP()">G·ª≠i m√£ OTP</button>
                </div>
            </div>

            <div id="forgot-step-2" class="hidden">
                <p class="desc-text">M√£ OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i. Vui l√≤ng ki·ªÉm tra email.</p>
                <div class="input-wrapper">
                    <input type="text" id="forgot-otp" placeholder=" " maxlength="6">
                    <label>Nh·∫≠p m√£ OTP (6 s·ªë)</label>
                </div>
                <div class="input-wrapper">
                    <input type="password" id="forgot-new-pass" placeholder=" ">
                    <label>M·∫≠t kh·∫©u m·ªõi</label>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-outline" onclick="UI.resetForgotFlow()">Quay l·∫°i</button>
                    <button class="btn btn-primary" onclick="Auth.verifyOTPAndReset()">ƒê·ªïi m·∫≠t kh·∫©u</button>
                </div>
            </div>
        </div>
    </div>

    <div id="spin-result-modal" class="modal-overlay hidden">
         <div class="glass-card modal-content center-text" style="max-width: 350px;">
            <div class="result-icon-box" style="font-size: 3rem; margin-bottom: 10px;">üéâ</div>
            <h3 style="color: var(--primary); margin-bottom: 10px;">K·∫æT QU·∫¢</h3>
            <div id="spin-winner-text" style="font-size: 1.5rem; font-weight: 800; margin-bottom: 20px; color: var(--text-main);">
                Winner
            </div>
            
            <div class="modal-actions-col" style="display: flex; flex-direction: column; gap: 10px;">
                <button class="btn btn-primary full-width" onclick="Utilities.SpinWheel.closeResult()">
                    <i class="fa-solid fa-check"></i> Tuy·ªát v·ªùi
                </button>
                <button class="btn btn-outline full-width" onclick="Utilities.SpinWheel.removeWinnerAndClose()">
                    <i class="fa-solid fa-trash"></i> X√≥a k·∫øt qu·∫£ n√†y & ƒê√≥ng
                </button>
            </div>
        </div>
    </div>

    <div id="countdown-alarm-modal" class="modal-overlay hidden">
         <div class="glass-card modal-content center-text">
            <div style="font-size: 4rem; color: var(--danger); animation: shake 0.5s infinite;">‚è∞</div>
            <h3>ƒê√É H·∫æT GI·ªú!</h3>
            <p>Th·ªùi gian ƒë·∫øm ng∆∞·ª£c ƒë√£ k·∫øt th√∫c.</p>
            <div class="modal-actions center-content">
                <button class="btn btn-primary" onclick="Utilities.Countdown.stopAlarm()">
                    <i class="fa-solid fa-check"></i> OK, T·∫Øt Chu√¥ng
                </button>
            </div>
        </div>
    </div>

    <div id="finance-entry-modal" class="modal-overlay hidden">
        <div class="glass-card modal-content finance-modal">
            <div class="fin-modal-header">
                <button class="fin-tab active" data-tab="expense" onclick="Finance.switchEntryTab('expense')">CHI TI√äU</button>
                <button class="fin-tab" data-tab="income" onclick="Finance.switchEntryTab('income')">THU NH·∫¨P</button>
            </div>
            
            <div class="fin-modal-body">
                <div class="fin-date-display" id="fin-entry-date">...</div>
                
                <div class="input-wrapper tight">
                    <span class="currency-prefix" id="fin-currency-display">ƒë</span>
                    <input type="text" id="fin-amount-input" class="big-input" placeholder="0" inputmode="numeric">
                    <label>S·ªë Ti·ªÅn</label>
                </div>

                <div class="fin-category-section">
                    <div class="flex-between">
                        <label>Danh m·ª•c</label>
                        <button class="btn-text-sm" onclick="Finance.openCategoryManager()"><i class="fa-solid fa-pen-to-square"></i> Qu·∫£n l√Ω</button>
                    </div>
                    <div id="fin-category-grid" class="category-grid">
                        </div>
                    <input type="hidden" id="fin-selected-category">
                </div>

                <div class="input-wrapper">
                    <input type="text" id="fin-note-input" placeholder=" ">
                    <label>Ghi ch√∫ (T√πy ch·ªçn)</label>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn btn-outline" onclick="Finance.closeEntryModal()">H·ªßy</button>
                <button class="btn btn-primary" onclick="Finance.saveTransaction()">L∆∞u Giao D·ªãch</button>
            </div>
        </div>
    </div>

    <div id="finance-category-modal" class="modal-overlay hidden">
        <div class="glass-card modal-content">
            <h3>Qu·∫£n l√Ω Danh m·ª•c</h3>
            <p class="desc-text">Th√™m ho·∫∑c x√≥a danh m·ª•c cho <span id="fin-cat-type-label" class="text-primary font-bold">...</span></p>
            
            <div class="add-cat-row">
                <input type="text" id="fin-new-cat-name" placeholder="T√™n danh m·ª•c m·ªõi...">
                <button class="btn btn-primary btn-sm" onclick="Finance.addNewCategory()"><i class="fa-solid fa-plus"></i></button>
            </div>

            <div id="fin-manage-cat-list" class="manage-cat-list scroll-custom">
                </div>

            <div class="modal-actions">
                <button class="btn btn-outline" onclick="Finance.closeCategoryManager()">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <div id="finance-settings-modal" class="modal-overlay hidden">
        <div class="glass-card modal-content center-text">
            <h3>C√†i ƒë·∫∑t T√†i ch√≠nh</h3>
            <div class="input-wrapper">
                <select id="fin-currency-select">
                    <option value="ƒë">Vi·ªát Nam ƒê·ªìng (ƒë)</option>
                    <option value="$">ƒê√¥ la M·ªπ ($)</option>
                    <option value="¬•">Y√™n Nh·∫≠t (¬•)</option>
                    <option value="ÂÖÉ">Nh√¢n d√¢n t·ªá (ÂÖÉ)</option>
                    <option value="‚Ç¨">Euro (‚Ç¨)</option>
                </select>
                <label>ƒê∆°n v·ªã Ti·ªÅn t·ªá</label>
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary full-width" onclick="Finance.saveSettings()">L∆∞u C√†i ƒê·∫∑t</button>
            </div>
        </div>
    </div>

    <div id="finance-report-modal" class="modal-overlay hidden">
        <div class="glass-card modal-content large-modal">
            <div class="flex-between mb-2">
                <h3 id="fin-report-title">B√°o C√°o</h3>
                <button class="btn-close-floating" onclick="document.getElementById('finance-report-modal').classList.add('hidden')"><i class="fa-solid fa-xmark"></i></button>
            </div>
            
            <div class="report-content-box">
                <canvas id="finance-chart-canvas"></canvas>
            </div>
            
            <div id="fin-report-summary" class="report-text-summary">
                </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>